var video=document.getElementById("promovid");var overlay=document.getElementById("overlay");var nav=document.getElementById("nav");var button=document.getElementById("desktopbutton");var mobilebutton=document.getElementById("mobilebutton");var pausebutton=document.getElementById("pausebutton");var source=document.createElement('source');function lazyLoad(){if(source.getAttribute('src')!='images/promovideodrivedeck.mp4'){source.setAttribute('src','images/promovideodrivedeck.mp4');video.appendChild(source)}}function desktopStartAni(){overlay.style.animation="ani5 1s ease forwards";nav.style.animation="ani 1s ease forwards";video.style.animation="ani3 1s ease forwards";setTimeout(displaySwitchOff,1000)}function playVideo(){lazyLoad();video.play();video.muted=false;if(video.classList.contains("mobile")){mobileStartAni()}else{desktopStartAni()}}function pauseVideo(){video.pause();video.muted();pausebutton.style.display="block"}function playMobile(){video.classList.add("mobile");playVideo()}function mobileStartAni(){video.style.display="block";video.style.animation="ani9 1s ease forwards";video.setAttribute("controls","controls");mobilebutton.style.display="none";pausebutton.style.display="block"}function displaySwitchOff(){overlay.style.display="none";overlay.style.animation="none";video.setAttribute("controls","controls")}function displaySwitchOn(){overlay.style.display="block"}video.addEventListener('pause',function(){setTimeout(function(){videoInterrupted()},250)});window.onscroll=aniNav();function aniNav(){nav.style.animation="aniNav forwards"}function videoEnded(){overlay.style.backgroundImage="url(images/hero.jpg)";displaySwitchOn();if(video.classList.contains("mobile")){toggleMobile()}else{toggleDesktop();button.innerHTML="Watch Video"}}function videoPaused(){button.innerHTML="Resume Video";video.muted=true;displaySwitchOn();if(video.classList.contains("mobile")){toggleMobile();mobilebutton.innerHTML="Resume Video"}else{toggleDesktop();overlay.style.background="rgba(0,0,0,0.5)"}}function toggleDesktop(){video.style.animation="ani4 1s ease forwards";overlay.style.animation="ani6 1s ease";aniNav()}function toggleMobile(){video.style.animation="ani10 1s ease forwards";pausebutton.style.display="none";mobilebutton.style.display="block"}function videoInterrupted(){if(video.ended){videoEnded()}else if(video.paused){videoPaused()}}